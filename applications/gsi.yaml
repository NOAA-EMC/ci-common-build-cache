spack:
  view: false
  concretizer:
    unify: when_possible
  specs:
# GSI (https://github.com/NOAA-EMC/GSI/blob/develop/ci/spack.yaml):
  - netcdf-c@4.9.2 +mpi ~blosc +shared
  - netcdf-fortran@4.6.1
  - bufr@11.7.0
  - bacio@2.4.1
  - w3emc@2.10.0
  - sp@2.5.0
  - ip@4.3.0
  - sigio@2.3.3
  - sfcio@1.4.2
  - nemsio@2.5.5
  - wrf-io@1.3.0
  - ncio@1.1.2
# - crtm@2.4.0.1
  - gsi-ncdiag@1.1.2
  packages:
    jasper:
      require: +jpeg
    python:
      require: '@3.12'
    esmf:
      require: '~xerces ~pnetcdf +shared +external-parallelio'
    mapl:
      require: '~pflogger ~fargparse ~extdata2g'
    netcdf-c:
      require: '+dap +mpi ~parallel-netcdf ~szip build_system=cmake'
    cmake:
      require:
      - any_of: ['@3.29']
        when: '%intel'
    hdf5:
      require:
      - any_of: ['+threadsafe']
        when: '%intel'
